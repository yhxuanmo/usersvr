{"swagger":"2.0","info":{"title":"User Service","description":"HTTP service for managing user info","version":""},"host":"localhost:8000","consumes":["application/json","application/xml","application/gob"],"produces":["application/json","application/xml","application/gob"],"paths":{"/user":{"get":{"tags":["userMethod"],"summary":"show userMethod","description":"Show user info","operationId":"userMethod#show","parameters":[{"name":"view","in":"query","description":"View to render","required":false,"type":"string","enum":["default","tiny"]},{"name":"Authorization","in":"header","description":"JWT used for authentication","required":true,"type":"string"}],"responses":{"200":{"description":"OK response.","schema":{"$ref":"#/definitions/UserMethodShowResponseBody"}},"404":{"description":"Not Found response.","schema":{"$ref":"#/definitions/UserMethodShowNotFoundResponseBody","required":["message","id"]}}},"schemes":["http"],"security":[{"jwt_header_Authorization":[]}]}},"/user/change/email":{"post":{"tags":["userMethod"],"summary":"changeEmail userMethod","description":"Add n number of bottles and return their IDs. This is a multipart request and each part has field name 'bottle' and contains the encoded bottle info to be added.","operationId":"userMethod#changeEmail","parameters":[{"name":"Authorization","in":"header","description":"JWT used for authentication","required":true,"type":"string"},{"name":"ChangeEmailRequestBody","in":"body","required":true,"schema":{"$ref":"#/definitions/UserMethodChangeEmailRequestBody","required":["email"]}}],"responses":{"200":{"description":"OK response.","schema":{"$ref":"#/definitions/UserMethodChangeEmailResponseBody","required":["code"]}}},"schemes":["http"],"security":[{"jwt_header_Authorization":[]}]}},"/user/change/info":{"post":{"tags":["userMethod"],"summary":"changeInfo userMethod","description":"Add new bottle and return its ID.","operationId":"userMethod#changeInfo","parameters":[{"name":"Authorization","in":"header","description":"JWT used for authentication","required":true,"type":"string"},{"name":"ChangeInfoRequestBody","in":"body","required":true,"schema":{"$ref":"#/definitions/UserMethodChangeInfoRequestBody","required":["name","icon"]}}],"responses":{"200":{"description":"OK response.","schema":{"$ref":"#/definitions/UserMethodChangeInfoResponseBody"}}},"schemes":["http"],"security":[{"jwt_header_Authorization":[]}]}},"/user/change/password":{"post":{"tags":["userMethod"],"summary":"changePassword userMethod","description":"Remove bottle from storage","operationId":"userMethod#changePassword","parameters":[{"name":"Authorization","in":"header","description":"JWT used for authentication","required":true,"type":"string"},{"name":"ChangePasswordRequestBody","in":"body","required":true,"schema":{"$ref":"#/definitions/UserMethodChangePasswordRequestBody","required":["oldPassword","newPassword"]}}],"responses":{"200":{"description":"OK response.","schema":{"$ref":"#/definitions/UserMethodChangePasswordResponseBody","required":["code"]}}},"schemes":["http"],"security":[{"jwt_header_Authorization":[]}]}},"/user/forgot/password":{"post":{"tags":["userMethod"],"summary":"forgotPassword userMethod","description":"Rate bottles by IDs","operationId":"userMethod#forgotPassword","parameters":[{"name":"ForgotPasswordRequestBody","in":"body","required":true,"schema":{"$ref":"#/definitions/UserMethodForgotPasswordRequestBody","required":["code","newPassword","email"]}}],"responses":{"200":{"description":"OK response.","schema":{"$ref":"#/definitions/UserMethodForgotPasswordResponseBody","required":["code"]}}},"schemes":["http"]}},"/user/login":{"post":{"tags":["userMethod"],"summary":"login userMethod","description":"Creates a valid JWT","operationId":"userMethod#login","parameters":[{"name":"LoginRequestBody","in":"body","required":true,"schema":{"$ref":"#/definitions/UserMethodLoginRequestBody","required":["email","password"]}}],"responses":{"200":{"description":"OK response.","schema":{"$ref":"#/definitions/UserMethodLoginResponseBody","required":["jwt"]}}},"schemes":["http"]}},"/user/register":{"post":{"tags":["userMethod"],"summary":"register userMethod","description":"register user","operationId":"userMethod#register","parameters":[{"name":"RegisterRequestBody","in":"body","required":true,"schema":{"$ref":"#/definitions/UserMethodRegisterRequestBody","required":["email","password"]}}],"responses":{"200":{"description":"OK response.","schema":{"$ref":"#/definitions/UserMethodRegisterResponseBody","required":["code"]}}},"schemes":["http"]}},"/user/send/code":{"post":{"tags":["userMethod"],"summary":"sendVerifyCode userMethod","description":"send verify code to email","operationId":"userMethod#sendVerifyCode","parameters":[{"name":"SendVerifyCodeRequestBody","in":"body","required":true,"schema":{"$ref":"#/definitions/UserMethodSendVerifyCodeRequestBody","required":["email"]}}],"responses":{"200":{"description":"OK response.","schema":{"$ref":"#/definitions/UserMethodSendVerifyCodeResponseBody","required":["code"]}}},"schemes":["http"]}}},"definitions":{"UserMethodChangeEmailRequestBody":{"title":"UserMethodChangeEmailRequestBody","type":"object","properties":{"email":{"type":"string","example":"Quasi modi reiciendis quia velit quia."}},"example":{"email":"Autem aperiam alias repellat et."},"required":["email"]},"UserMethodChangeEmailResponseBody":{"title":"UserMethodChangeEmailResponseBody","type":"object","properties":{"code":{"type":"integer","description":"code","example":200,"format":"int64"},"data":{"type":"object","example":{"Ab illo voluptatum.":"Et laboriosam adipisci dolore et est optio.","Enim in temporibus consequatur qui sit.":"Debitis aut ullam qui ducimus sint aut.","Et excepturi.":"Natus optio impedit nobis."},"additionalProperties":true},"message":{"type":"string","description":"message","example":"bad request"}},"example":{"code":200,"data":{"Rerum aperiam iste.":"Facilis perspiciatis."},"message":"bad request"},"required":["code"]},"UserMethodChangeInfoRequestBody":{"title":"UserMethodChangeInfoRequestBody","type":"object","properties":{"icon":{"type":"string","description":"icon of user","example":"Voluptas sit placeat cum."},"name":{"type":"string","description":"name of user","example":"Aspernatur vero minus totam veritatis voluptas."}},"example":{"icon":"Perspiciatis quia.","name":"Esse aut aut."},"required":["name","icon"]},"UserMethodChangeInfoResponseBody":{"title":"Mediatype identifier: application/vnd.cellar.stored-bottle; view=default","type":"object","properties":{"email":{"type":"string","description":"Vintage of bottle","example":"sv7","maxLength":100},"icon":{"type":"string","description":"Description of bottle","example":"Red wine blend with an emphasis on the Cabernet Franc grape and including other Bordeaux grape varietals and some Syrah","maxLength":2000},"id":{"type":"integer","description":"ID is the unique id of the bottle.","example":1,"format":"int64"},"name":{"type":"string","description":"Name of bottle","example":"Blue's Cuvee","maxLength":100}},"description":"ChangeInfoResponseBody result type (default view)","example":{"email":"727","icon":"Red wine blend with an emphasis on the Cabernet Franc grape and including other Bordeaux grape varietals and some Syrah","id":1,"name":"Blue's Cuvee"},"required":["id","name","icon","email"]},"UserMethodChangePasswordRequestBody":{"title":"UserMethodChangePasswordRequestBody","type":"object","properties":{"newPassword":{"type":"string","description":"new password","example":"new password"},"oldPassword":{"type":"string","description":"old password","example":"old password"}},"example":{"newPassword":"new password","oldPassword":"old password"},"required":["oldPassword","newPassword"]},"UserMethodChangePasswordResponseBody":{"title":"UserMethodChangePasswordResponseBody","type":"object","properties":{"code":{"type":"integer","description":"code","example":200,"format":"int64"},"data":{"type":"object","example":{"Iste commodi qui enim dolorum velit.":"Praesentium consectetur.","Ut laboriosam.":"Ut minima eos et officiis et."},"additionalProperties":true},"message":{"type":"string","description":"message","example":"bad request"}},"example":{"code":200,"data":{"Corporis optio tempore.":"Ut voluptatum mollitia.","Eius ut dolor id fugit qui quaerat.":"Et voluptatibus voluptas incidunt nihil."},"message":"bad request"},"required":["code"]},"UserMethodForgotPasswordRequestBody":{"title":"UserMethodForgotPasswordRequestBody","type":"object","properties":{"code":{"type":"string","example":"1234"},"email":{"type":"string","example":"Aspernatur cupiditate qui sed ut magni."},"newPassword":{"type":"string","example":"Esse qui repudiandae ullam."}},"example":{"code":"1234","email":"Distinctio numquam.","newPassword":"Ipsam recusandae."},"required":["code","newPassword","email"]},"UserMethodForgotPasswordResponseBody":{"title":"UserMethodForgotPasswordResponseBody","type":"object","properties":{"code":{"type":"integer","description":"code","example":200,"format":"int64"},"data":{"type":"object","example":{"Ut quod.":"Ad eum et aut qui qui qui."},"additionalProperties":true},"message":{"type":"string","description":"message","example":"bad request"}},"example":{"code":200,"data":{"Beatae dignissimos libero vel.":"Rerum molestiae quo."},"message":"bad request"},"required":["code"]},"UserMethodLoginRequestBody":{"title":"UserMethodLoginRequestBody","type":"object","properties":{"email":{"type":"string","description":"Username used to perform signin","example":"123@email.com"},"password":{"type":"string","description":"Password used to perform signin","example":"password"}},"description":"Credentials used to authenticate to retrieve JWT token","example":{"email":"123@email.com","password":"password"},"required":["email","password"]},"UserMethodLoginResponseBody":{"title":"UserMethodLoginResponseBody","type":"object","properties":{"jwt":{"type":"string","description":"JWT token","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ"}},"example":{"jwt":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ"},"required":["jwt"]},"UserMethodRegisterRequestBody":{"title":"UserMethodRegisterRequestBody","type":"object","properties":{"email":{"type":"string","description":"email used to perform login","example":"123@email.com"},"password":{"type":"string","description":"Password used to perform signin","example":"password"}},"example":{"email":"123@email.com","password":"password"},"required":["email","password"]},"UserMethodRegisterResponseBody":{"title":"UserMethodRegisterResponseBody","type":"object","properties":{"code":{"type":"integer","description":"code","example":200,"format":"int64"},"data":{"type":"object","example":{"Consequatur qui dolor.":"Voluptatem corrupti reprehenderit.","Expedita veniam vel.":"Aliquam perferendis."},"additionalProperties":true},"message":{"type":"string","description":"message","example":"bad request"}},"example":{"code":200,"data":{"Aliquam quaerat molestiae accusamus voluptas aut iste.":"Id sed quia placeat.","Voluptate ratione ipsa.":"Non perferendis."},"message":"bad request"},"required":["code"]},"UserMethodSendVerifyCodeRequestBody":{"title":"UserMethodSendVerifyCodeRequestBody","type":"object","properties":{"email":{"type":"string","example":"Expedita sapiente unde aspernatur voluptas."}},"example":{"email":"Alias quis et aut doloribus."},"required":["email"]},"UserMethodSendVerifyCodeResponseBody":{"title":"UserMethodSendVerifyCodeResponseBody","type":"object","properties":{"code":{"type":"integer","description":"code","example":200,"format":"int64"},"data":{"type":"object","example":{"Eius ad officia corrupti soluta qui voluptas.":"Dolorem error qui.","Quibusdam delectus.":"Qui optio aut dolor accusantium consequuntur qui."},"additionalProperties":true},"message":{"type":"string","description":"message","example":"bad request"}},"example":{"code":200,"data":{"A dolorum saepe eum hic.":"Iste earum.","Ducimus sit officiis repudiandae laudantium dolorem.":"Ea assumenda.","Quasi rerum accusamus quisquam.":"Dolore aut consequatur."},"message":"bad request"},"required":["code"]},"UserMethodShowNotFoundResponseBody":{"title":"UserMethodShowNotFoundResponseBody","type":"object","properties":{"id":{"type":"string","description":"ID of missing user","example":"Repellat eum eius sit ratione ad qui."},"message":{"type":"string","description":"Message of error","example":"user 1 not found"}},"description":"Bottle not found","example":{"id":"Quis eos voluptatem dolor tenetur praesentium minus.","message":"user 1 not found"},"required":["message","id"]},"UserMethodShowResponseBody":{"title":"Mediatype identifier: application/vnd.cellar.stored-bottle; view=default","type":"object","properties":{"email":{"type":"string","description":"Vintage of bottle","example":"9i6","maxLength":100},"icon":{"type":"string","description":"Description of bottle","example":"Red wine blend with an emphasis on the Cabernet Franc grape and including other Bordeaux grape varietals and some Syrah","maxLength":2000},"id":{"type":"integer","description":"ID is the unique id of the bottle.","example":1,"format":"int64"},"name":{"type":"string","description":"Name of bottle","example":"Blue's Cuvee","maxLength":100}},"description":"ShowResponseBody result type (default view)","example":{"email":"qwb","icon":"Red wine blend with an emphasis on the Cabernet Franc grape and including other Bordeaux grape varietals and some Syrah","id":1,"name":"Blue's Cuvee"},"required":["id","name","icon","email"]}},"securityDefinitions":{"jwt_header_Authorization":{"type":"apiKey","description":"Secures endpoint by requiring a valid JWT token retrieved via the signin endpoint. Supports scopes \"api:read\" and \"api:write\".","name":"Authorization","in":"header"}}}